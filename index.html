<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ç”Ÿæ—¥å¿«æ¨‚ âœ¨</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100%;
      background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
      font-family: 'Segoe UI', sans-serif;
    }
    /* æ˜Ÿç©ºèˆ‡æµæ˜Ÿå±¤ */
    #background {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: 1;
      pointer-events: none;
    }
    .star {
      position: absolute;
      width: 2px; height: 2px;
      background: white;
      border-radius: 50%;
      animation: twinkle 4s infinite ease-in-out;
    }
    @keyframes twinkle {
      0%,100% { opacity: 0.2; }
      50% { opacity: 1; }
    }
    .meteor {
      position: absolute;
      width: 80px; height: 2px;
      background: linear-gradient(270deg, white, transparent);
      transform: rotate(-45deg);
      animation: meteor 3s linear infinite;
    }
    @keyframes meteor {
      0% { top: -100px; left: 120%; opacity: 1; }
      100% { top: 120%; left: -200px; opacity: 0; }
    }
    /* ç…™èŠ± canvas */
    #fireworks {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: 2;
      pointer-events: none;
    }
    /* å…§å®¹å±¤ */
    .container {
      position: relative;
      z-index: 3;
      width: 100%; height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: white;
      text-align: center;
    }
    #giftBox {
      width: 200px;
      cursor: pointer;
    }
    #hint {
      margin-top: 10px;
      font-size: 1.2rem;
      color: #ffeb3b;
      animation: blink 1.5s infinite;
    }
    @keyframes blink {
      0%,100% { opacity: 1; }
      50% { opacity: 0.3; }
    }
    #messageBox {
      display: none;
      font-size: 2rem;
      white-space: nowrap;
      overflow: hidden;
    }
    .glow { text-shadow: 0 0 5px #fff, 0 0 15px #ff69b4, 0 0 20px #ff69b4; }
    .zoom { animation: zoomIn 1s ease-out forwards; }
    @keyframes zoomIn { from { transform: scale(1); } to { transform: scale(1.4); } }
  </style>
</head>
<body>
  <div id="background"></div>
  <canvas id="fireworks"></canvas>
  <div class="container">
    <img id="giftBox" src="gift.gif" alt="ç¦®ç‰©ç›’">
    <div id="hint">é»æˆ‘ ğŸ</div>
    <div id="messageBox" class="glow"></div>
    <audio id="bgMusic" src="birthday-song.mp3" loop></audio>
  </div>
  <script>
    // æ˜Ÿç©ºèˆ‡æµæ˜Ÿ
    const bg = document.getElementById('background');
    for(let i=0;i<100;i++){
      const s=document.createElement('div');s.className='star';
      s.style.top=`${Math.random()*100}%`;
      s.style.left=`${Math.random()*100}%`;
      s.style.animationDelay=`${Math.random()*4}s`;
      bg.appendChild(s);
    }
    for(let i=0;i<3;i++){
      const m=document.createElement('div');m.className='meteor';
      m.style.top=`${Math.random()*50}%`;
      m.style.left=`${Math.random()*100}%`;
      m.style.animationDelay=`${Math.random()*5}s`;
      bg.appendChild(m);
    }
    // ç…™èŠ±
    const canvas=document.getElementById('fireworks'),ctx=canvas.getContext('2d');
    canvas.width=window.innerWidth;canvas.height=window.innerHeight;
    class Firework{constructor(){this.x=Math.random()*canvas.width;this.y=Math.random()*canvas.height/2;this.color=`hsl(${Math.random()*360},100%,60%)`;this.p=[];for(let i=0;i<30;i++){const a=Math.random()*2*Math.PI,r=Math.random()*4+2;this.p.push({x:this.x,y:this.y,dx:Math.cos(a)*r,dy:Math.sin(a)*r,a:1});}}}
    const fws=[];
    function anim(){requestAnimationFrame(anim);ctx.fillStyle='rgba(0,0,0,0.2)';ctx.fillRect(0,0,canvas.width,canvas.height);
      if(Math.random()<0.05)fws.push(new Firework());
      fws.forEach((f,j)=>{f.p.forEach(p=>{p.x+=p.dx;p.y+=p.dy;p.a-=0.02;ctx.beginPath();ctx.arc(p.x,p.y,2,0,2*Math.PI);ctx.fillStyle=`rgba(${parseInt(f.color.slice(4))},${p.a})`;ctx.fill();});if(f.p.every(p=>p.a<=0))fws.splice(j,1);});}
    anim();
    // æ–‡å­—å‹•ç•«
    const messages=["SURPRISE ğŸ¥³","ç”œå“é‚„æ˜¯é€™å€‹","éƒ½æ˜¯æˆ‘ä¸€æ¬¡å¼„å“¦","åˆ¥å«Œæ£„å–","ä¸å¥½åƒDeè©±","å˜»å˜» çµ¦æˆ‘åƒ!!","å¾—ç©ºå›ä¾†é€™è£¡çœ‹çœ‹å”„","å¸Œæœ›ä½ å–œæ­¡ ğŸ’–","å™¢~å°äº†","ç”Ÿæ—¥å¿«æ¨‚ âœ¨"];
    const gift=document.getElementById('giftBox'),hint=document.getElementById('hint'),msgBox=document.getElementById('messageBox'),music=document.getElementById('bgMusic');let inPlay=false;
    gift.onclick=async()=>{if(inPlay)return;inPlay=true;gift.style.display='none';hint.style.display='none';msgBox.style.display='block';music.play().catch(()=>{});
      while(1){for(let i=0;i<messages.length;i++){const txt=messages[i];msgBox.textContent='';msgBox.classList.toggle('zoom', txt.includes('ç”Ÿæ—¥å¿«æ¨‚'));
          for(let k=1;k<=txt.length;k++){msgBox.textContent=txt.slice(0,k);await new Promise(r=>setTimeout(r,100));}
          await new Promise(r=>setTimeout(r,2000));msgBox.style.opacity='0';await new Promise(r=>setTimeout(r,500));msgBox.style.opacity='1';}}
    };
  </script>
</body>
</html>
