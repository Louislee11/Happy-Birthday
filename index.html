<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>生日快樂噢</title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    html, body { width:100%; height:100%; overflow:hidden; background:#000; font-family:'Segoe UI',sans-serif; }

    #background { position:fixed; top:0; left:0; width:100%; height:100%; z-index:0; pointer-events:none; }
    .star { position:absolute; width:2px; height:2px; background:#fff; border-radius:50%; animation:twinkle 2s infinite ease-in-out; }
    @keyframes twinkle {0%,100%{opacity:0.2;}50%{opacity:1;}}
    .meteor { position:absolute; width:120px; height:2px; background:linear-gradient(to left, #fff, transparent); transform:rotate(45deg); animation:shoot 3s linear infinite; pointer-events:none; }
    @keyframes shoot { 0%{opacity:1;}100%{opacity:0; transform:translate(500px,500px) rotate(45deg);} }

    .special-meteor {
      background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 60%);
      width: 30px; height: 30px; border-radius: 50%;
      box-shadow: 0 0 10px rgba(255,255,255,0.8), 0 0 20px rgba(255,255,255,0.4);
      animation: sparkle 4s ease-in-out infinite;
      pointer-events:auto; cursor:pointer;
    }
    @keyframes sparkle {
      0%,100%{ transform: scale(1); opacity: 0.6; }
      50%{ transform: scale(1.5); opacity: 1; }
    }

    #secretScreen {
      display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: linear-gradient(#000, #222);
      z-index: 9999; color: white; justify-content: center; align-items: center; flex-direction: column;
      text-align: center;
    }
    #secretText { font-size: 2rem; margin: 1rem; }
    #backBtn {
      background: #ff69b4; color: #fff; border: none; padding: 0.5rem 1rem; font-size: 1.2rem;
      cursor: pointer; border-radius: 8px; box-shadow: 0 0 10px #ff69b4;
    }
  </style>
</head>
<body>
  <div id="background"></div>
  <div id="secretScreen">
    <div id="secretText">嘿，其實我一直很喜歡你...<br/>希望這份小驚喜能讓你微笑 😊</div>
    <button id="backBtn">回到主畫面</button>
  </div>

  <!-- 原本的禮物、煙火、音樂保持不動 -->
  <canvas id="fireworks"></canvas>
  <div class="container">
    <div id="giftBox">
      <img src="gift.gif" width="160" alt="禮物盒">
      <div id="hint">點🎁 開聲音開聲音!!</div>
    </div>
    <div id="messageContainer"></div>
    <audio id="bgMusic" src="birthday-song.mp3" loop></audio>
  </div>

  <script>
    // 背景與星星
    const bg = document.getElementById('background');
    for(let i=0;i<100;i++){
      const s=document.createElement('div');
      s.className='star';
      s.style.top=Math.random()*100+'vh';
      s.style.left=Math.random()*100+'vw';
      s.style.animationDelay=Math.random()*3+'s';
      bg.appendChild(s);
    }
    for(let i=0;i<22;i++){
      const m=document.createElement('div');
      m.className='meteor';
      if(Math.random()<0.5){
        m.style.left='-20%';
        m.style.top=Math.random()*100+'vh';
      }else{
        m.style.top='-20%';
        m.style.left=Math.random()*100+'vw';
      }
      m.style.animationDelay=Math.random()*2+'s';
      bg.appendChild(m);
    }

    // 特別流星（可點）
    for (let i = 0; i < 3; i++) {
      const special = document.createElement('div');
      special.className = 'special-meteor';
      special.style.position = 'absolute';
      special.style.left = Math.random()*90 + '%';
      special.style.top = Math.random()*90 + '%';
      special.addEventListener('click', () => {
        document.getElementById('secretScreen').style.display = 'flex';
      });
      document.body.appendChild(special);
    }

    // 回主畫面
    document.getElementById('backBtn').addEventListener('click', () => {
      document.getElementById('secretScreen').style.display = 'none';
    });

    // 其餘煙火與禮物盒照原樣
  </script>
</body>
</html>
